<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°æé–‹é– | æ–°åŒ—24å°æ™‚é–‹é–ã€æ›é–ã€é›»å­é–å®‰è£ | æ°¸å’Œ/ä¸­å’Œ/æ–°åº—/æ¿æ©‹/æ–‡å±±/å°åŒ—</title>
    <meta name="description" content="å°æé–‹é–å°ˆç‡Ÿå°åŒ—ã€æ–°åŒ—ã€æ°¸å’Œã€ä¸­å’Œã€æ–°åº—ã€æ–‡å±±ã€æ¿æ©‹ç­‰å€ã€‚æä¾›24å°æ™‚é–‹é–ã€æ›é–ã€é›»å­é–å®‰è£æœå‹™ã€‚åƒ¹æ ¼é€æ˜ï¼Œè¿…é€Ÿåˆ°åºœï¼Œç¾åœ¨æ’¥æ‰“ 0903-109-970ã€‚">
    
    <!-- Google ç¶²ç«™é©—è­‰ -->
    <meta name="google-site-verification" content="9q6AYknkUhZOnPP84_aqinRnMxtvXWW6cR5i8ZD5w54" />
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7ZLB8FQRYM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-7ZLB8FQRYM');
    </script>

    <style>
        /* --- åŸºç¤è¨­å®š --- */
        :root {
            --primary-yellow: #ffc107;
            --primary-dark: #1a1a1a;
            --text-grey: #666;
            --bg-light: #f8f9fa;
            --line-green: #00c300;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: "Microsoft JhengHei", sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            color: #333;
            background-color: var(--bg-light);
        }
        a { text-decoration: none; color: inherit; cursor: pointer; }
        input, select, button { font-family: inherit; }
        
        /* --- å°è¦½åˆ— --- */
        header {
            background-color: black;
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        .logo {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--primary-yellow);
            cursor: pointer;
        }
        .logo span { font-size: 0.6em; color: #fff; display: block; font-weight: normal; }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { color: #fff; font-size: 0.95em; transition: color 0.3s; }
        .nav-links a:hover { color: var(--primary-yellow); }
        
        .header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .cta-btn {
            background-color: var(--primary-yellow);
            color: black;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .cta-btn.line-btn {
            background-color: var(--line-green);
            color: white;
        }
        
        @media (max-width: 900px) {
            .nav-links { display: none; } 
        }

        /* --- é€šç”¨å€å¡Šè¨­å®š --- */
        .section { padding: 60px 20px; text-align: center; }
        .bg-light { background-color: var(--bg-light); }
        .section-title { font-size: 2em; margin-bottom: 40px; font-weight: bold; }
        
        /* --- Hero å€å¡Š --- */
        .hero {
            background-color: #000; 
            background-image: 
                linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.6)), 
                url('https://raw.githubusercontent.com/aabbbcca/lock/main/images/2.png');
            background-size: cover, contain; 
            background-repeat: no-repeat, no-repeat;
            background-position: center, top center;
            color: white;
            padding: 120px 20px 80px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            min-height: 500px; 
        }
        .hero-content { max-width: 1000px; width: 100%; margin-bottom: 30px; z-index: 2; }
        .hero h1 { font-size: 3em; margin-bottom: 10px; line-height: 1.2; text-shadow: 2px 2px 8px rgba(0,0,0,0.9); }
        .hero h1 span { color: var(--primary-yellow); }
        .hero-sub { color: #fff; margin-bottom: 30px; font-size: 1.2em; text-shadow: 1px 1px 5px rgba(0,0,0,0.9); font-weight: bold; }
        .hero-btn {
            display: inline-block;
            background-color: var(--primary-yellow);
            color: black;
            font-size: 1.2em;
            font-weight: bold;
            padding: 15px 40px;
            border-radius: 50px;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.6);
            transition: transform 0.2s;
            margin-bottom: 40px;
            border: 2px solid white;
        }
        .hero-btn:hover { transform: scale(1.05); }

        .scroll-down-container {
            cursor: pointer;
            animation: bounce 2s infinite;
            text-shadow: 0 0 5px rgba(0,0,0,0.8);
            z-index: 2;
        }
        .scroll-text {
            display: block;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 5px;
            color: #fff;
            background: rgba(0,0,0,0.5);
            padding: 5px 15px;
            border-radius: 20px;
        }
        .scroll-down-arrow {
            color: var(--primary-yellow);
            font-size: 2em;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        /* --- æœå‹™å¡ç‰‡èˆ‡åˆ—è¡¨ --- */
        .services-grid {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto;
        }
        .service-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            width: 300px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: left;
            padding-bottom: 20px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .service-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.15); }
        
        .real-img {
            width: 100%;
            height: 250px; 
            object-fit: contain; 
            background-color: #f8f8f8;
            display: block;
        }
        .card-body { padding: 20px; }
        .card-body h3 { margin-top: 0; }
        .emergency-card { border: 2px solid #e74c3c; }
        .emergency-badge {
            background-color: #e74c3c;
            color: white;
            padding: 5px 10px;
            position: absolute;
            top: 0; right: 0;
            font-size: 0.8em;
            z-index: 10;
        }

        /* --- é é¢åˆ‡æ›è¨­å®š --- */
        .sub-page {
            display: none;
            padding-top: 20px;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .page-header {
            background: #fff;
            padding: 40px 20px;
            text-align: center;
            border-bottom: 1px solid #eee;
            margin-bottom: 40px;
        }
        .back-btn {
            display: inline-block;
            margin-bottom: 20px;
            color: #666;
            font-size: 0.9em;
            background: #eee;
            padding: 5px 15px;
            border-radius: 20px;
            cursor: pointer;
        }
        .back-btn:hover { background: #ddd; }

        /* --- ç”¢å“åˆ†é¡æ¨™é¡Œ --- */
        .category-header {
            max-width: 1200px;
            margin: 40px auto 20px;
            text-align: center;
            position: relative;
            padding: 0 20px;
        }
        .brand-section-title {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--primary-dark);
            background: #f8f9fa;
            display: inline-block;
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }
        .brand-divider {
            position: absolute;
            top: 50%;
            left: 20px;
            right: 20px;
            height: 2px;
            background: #ddd;
            z-index: 0;
        }

        /* --- ç”¢å“å±•ç¤ºå¡ç‰‡ (åˆ—è¡¨é ç”¨) --- */
        .product-grid {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            max-width: 1200px;
            margin: 0 auto 60px;
            padding: 0 20px;
        }
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            width: 350px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            display: flex;
            flex-direction: column;
            cursor: pointer; 
            transition: transform 0.2s;
        }
        .product-card:hover { transform: translateY(-5px); }
        
        .product-img-container {
            position: relative;
            height: 250px;
            background-color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .brand-tag {
            position: absolute;
            top: 10px; left: 10px;
            background: rgba(0,0,0,0.8);
            color: #fff;
            padding: 4px 10px;
            font-size: 0.8em;
            border-radius: 4px;
            z-index: 5;
        }
        .product-body { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; }
        .product-title { font-size: 1.3em; font-weight: bold; margin: 0 0 10px; }
        .product-desc { color: #666; font-size: 0.9em; margin-bottom: 15px; flex-grow: 1; }
        .product-features {
            list-style: none; padding: 0; margin: 0 0 15px;
            font-size: 0.9em; color: #555;
        }
        .product-features li { margin-bottom: 5px; }
        .product-features li::before { content: "âœ” "; color: #00c300; }
        
        .view-more-text {
            text-align: center;
            color: #007bff;
            font-weight: bold;
            margin-top: auto;
            padding-top: 10px;
        }

        /* --- ç”¢å“è©³ç´°é é¢ (Detail View) --- */
        .detail-container {
            max-width: 900px;
            margin: 0 auto 60px;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .detail-header {
            display: flex;
            flex-wrap: wrap;
            gap: 40px;
            align-items: center;
        }
        .detail-img-box {
            flex: 1;
            min-width: 300px;
            text-align: center;
        }
        .detail-img-box img {
            max-width: 100%;
            max-height: 400px;
            object-fit: contain;
        }
        .detail-info {
            flex: 1;
            min-width: 300px;
            text-align: left;
        }
        .detail-title { font-size: 2em; font-weight: bold; margin-bottom: 10px; }
        .detail-price-box { margin: 20px 0; padding: 15px; background: #f9f9f9; border-left: 5px solid var(--primary-yellow); }
        .list-price { text-decoration: line-through; color: #999; font-size: 1em; }
        .offer-price { color: #e74c3c; font-size: 2em; font-weight: bold; }
        .detail-desc { font-size: 1.1em; color: #555; margin-bottom: 20px; line-height: 1.8; }
        
        .group-buy-box {
            background: #fffbe6;
            border: 1px dashed var(--primary-yellow);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        .group-buy-title { font-weight: bold; color: #d35400; margin-bottom: 5px; }
        .group-buy-item { color: #555; font-size: 0.95em; }

        .detail-actions { display: flex; flex-direction: column; gap: 10px; }
        .btn-line-ask {
            background-color: #00c300; color: white; padding: 15px; text-align: center; border-radius: 5px; font-weight: bold; font-size: 1.1em; cursor: pointer; display: block;
        }
        .btn-share {
            background-color: #eee; color: #333; padding: 12px; text-align: center; border-radius: 5px; font-weight: bold; cursor: pointer; border: 1px solid #ddd;
        }
        .btn-share:hover { background-color: #e0e0e0; }

        /* --- å‚³çµ±é–åˆ—è¡¨é æŒ‰éˆ• --- */
        .product-btn {
            background-color: var(--primary-dark);
            color: var(--primary-yellow);
            text-align: center;
            padding: 10px;
            border-radius: 5px;
            font-weight: bold;
            display: block;
            cursor: pointer;
        }
        .product-btn:hover { background-color: #333; }

        /* --- ä¼°åƒ¹èˆ‡å…¶ä»–å…±ç”¨æ¨£å¼ --- */
        .wizard-container {
            max-width: 600px;
            margin: 0 auto 60px;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        .step-container { display: none; }
        .step-container.active { display: block; animation: fadeIn 0.3s; }
        
        .wizard-title { font-size: 1.5em; font-weight: bold; margin-bottom: 20px; text-align: center; color: var(--primary-dark); }
        .option-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .option-btn {
            padding: 15px; border: 2px solid #eee; background: white; border-radius: 8px; text-align: center; cursor: pointer; transition: 0.2s; font-weight: bold; color: #555;
        }
        .option-btn.selected { background-color: var(--primary-yellow); color: black; border-color: var(--primary-yellow); }
        
        .input-group { margin-bottom: 20px; text-align: left; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: bold; color: #333; }
        .input-group select, .input-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px; }
        .price-result { background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; margin-top: 20px; border: 2px solid var(--primary-yellow); }
        .final-price { font-size: 2.5em; color: #e74c3c; font-weight: bold; margin: 10px 0; }
        
        .control-btns { display: flex; justify-content: space-between; margin-top: 30px; }
        .btn-prev { background: #eee; color: #333; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
        .btn-next { background: var(--primary-dark); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        
        .btn-reset { background: white; border: 2px solid #ccc; color: #555; padding: 8px 20px; border-radius: 20px; cursor: pointer; font-weight: bold; margin-bottom: 10px; display: inline-block; }
        
        .toggle-switch { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; }
        .toggle-btn { padding: 10px 20px; border: 1px solid #ccc; border-radius: 20px; cursor: pointer; }
        .toggle-btn.active { background: #e74c3c; color: white; border-color: #e74c3c; }

        /* Gallery */
        .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto 60px; padding: 0 20px; }
        .gallery-item { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .gallery-caption { padding: 15px; text-align: center; font-weight: bold; color: #333; }

        /* Review Images */
        .review-img-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }
        .review-img-box {
            background: #ddd;
            width: 300px;
            height: 200px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .review-img-box img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* FAQ, Footer */
        .faq-list { max-width: 800px; margin: 0 auto; text-align: left; }
        .faq-item { background: white; margin-bottom: 15px; padding: 20px; border-radius: 8px; }
        .faq-q { font-weight: bold; color: var(--primary-dark); cursor: pointer; }
        .faq-a { color: var(--text-grey); margin-top: 10px; display: block; }
        .bottom-cta { background-color: black; color: white; padding: 60px 20px; }
        .cta-buttons { margin-top: 30px; display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        footer { background-color: #111; color: #666; padding: 20px; text-align: center; font-size: 0.9em; }

        /* Google Review Button */
        .google-review-btn {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 25px;
            background-color: #4285F4;
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: background 0.3s;
        }
        .google-review-btn:hover { background-color: #357ae8; transform: translateY(-2px); }

        /* ç‰¹è‰²å€å¡Š */
        .features-grid { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; max-width: 1200px; margin: 0 auto; }
        .feature-item { flex: 1 1 200px; max-width: 250px; text-align: center; padding: 20px; box-sizing: border-box; }
        .feature-icon { width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2em; margin: 0 auto 15px; color: white; transition: transform 0.3s; }
        .feature-item:hover .feature-icon { transform: scale(1.1) rotate(10deg); }
        .icon-speed { background-color: #ffc107; box-shadow: 0 4px 10px rgba(255, 193, 7, 0.4); }
        .icon-price { background-color: #2ecc71; box-shadow: 0 4px 10px rgba(46, 204, 113, 0.4); }
        .icon-cert { background-color: #3498db; box-shadow: 0 4px 10px rgba(52, 152, 219, 0.4); }
        .icon-warranty { background-color: #e74c3c; box-shadow: 0 4px 10px rgba(231, 76, 60, 0.4); }
        .feature-item h3 { margin-bottom: 10px; font-size: 1.2em; }
        .feature-item p { color: #666; font-size: 0.95em; line-height: 1.5; }

        /* Step 4 Buttons */
        .btn-wizard-line {
            display: block; width: 100%; padding: 15px; text-align: center; font-weight: bold; border-radius: 5px; color: white; background-color: #00c300; margin-bottom: 10px; cursor: pointer; text-decoration: none;
        }
        .btn-wizard-phone {
            display: block; width: 100%; padding: 15px; text-align: center; font-weight: bold; border-radius: 5px; color: black; background-color: var(--primary-yellow); text-decoration: none;
        }

        @media (max-width: 600px) {
            .hero h1 { font-size: 2em; }
            .hero { text-align: center; padding-top: 120px; }
            .hero-btn { width: 100%; box-sizing: border-box; }
            .option-grid { grid-template-columns: 1fr; }
            .nav-links { display: none; }
            .detail-header { flex-direction: column; gap: 20px; }
            .feature-item { flex: 1 1 40%; }
        }
    </style>
    <!-- å¼•å…¥ Font Awesome åœ–ç¤º -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <!-- å°è¦½åˆ— -->
    <header>
        <div class="logo" onclick="window.location.hash = ''">
            å°æé–‹é–
            <span>é›™åŒ— 24å°æ™‚ å¿«é€Ÿæ•‘æ´</span>
        </div>
        <nav class="nav-links">
            <a onclick="window.location.hash = ''">é¦–é </a>
            <a onclick="window.location.hash = 'electronic-page'">é›»å­é–å®‰è£</a>
            <a onclick="window.location.hash = 'traditional-page'">å‚³çµ±é–æ›´æ›</a>
            <a onclick="window.location.hash = 'unlock-page'">é–‹é–æœå‹™</a>
            <a onclick="window.location.hash = 'examples-page'">å®‰è£å¯¦ä¾‹</a>
            <a onclick="showHomeScroll('faq')">å¸¸è¦‹å•é¡Œ</a>
        </nav>
        <div class="header-actions">
            <a href="https://line.me/ti/p/_w85tXo5KV" target="_blank" class="cta-btn line-btn">
                <i class="fab fa-line"></i> LINE
            </a>
            <a href="tel:0903109970" class="cta-btn">
                <i class="fas fa-phone-alt"></i> ç«‹å³è¯ç¹«
            </a>
        </div>
    </header>

    <!-- ================== é¦–é è¦–åœ– ================== -->
    <main id="home-view">
        <section class="hero">
            <div class="hero-content">
                <h1>å°åŒ—æ–°åŒ—é¦–é¸ï¼<br><span>24å°æ™‚</span> é–‹é–ã€æ›é–ã€é›»å­é–</h1>
                <p class="hero-sub">æœå‹™ç¯„åœï¼šæ°¸å’Œã€ä¸­å’Œã€æ–°åº—ã€æ–‡å±±ã€æ¿æ©‹åŠé›™åŒ—å…¨å€<br>åƒ¹æ ¼é€æ˜ | å®Œæ•´å”®å¾Œ | å¿«é€Ÿåˆ°åºœ | å°ˆæ¥­æŠ€è¡“</p>
                <a href="tel:0903109970" class="hero-btn"><i class="fas fa-phone-alt"></i> ç«‹å³é»æ“Šè¯ç¹« å°æå¸«å‚…</a>
                <p style="margin-top:10px; font-size:0.9em; color:#f0f0f0;">è§£æ±ºæ‚¨çš„ æ›é–ã€é–‹é–ã€é–€é– å•é¡Œ</p>
            </div>
            <div class="scroll-down-container" onclick="showHomeScroll('services')">
                <span class="scroll-text">å–å¾—å ±åƒ¹</span>
                <i class="fas fa-chevron-down scroll-down-arrow"></i>
            </div>
        </section>

        <section id="services" class="section bg-light">
            <h2 class="section-title">æœå‹™é …ç›®</h2>
            <div class="services-grid">
                <!-- 1. é›»å­é– -->
                <div class="service-card" onclick="window.location.hash = 'electronic-page'">
                    <img src="https://raw.githubusercontent.com/aabbbcca/lock/main/images/yale-luna-pro-plus-front-body-1.webp" class="real-img" alt="é›»å­é–å®‰è£">
                    <div class="card-body">
                        <h3>æ™ºæ…§é›»å­é–å®‰è£</h3>
                        <p style="color: #666; font-size: 0.9em;">æ“ºè„«é‘°åŒ™æŸç¸›ï¼Œé«”é©—æ¥µè‡´ä¾¿åˆ©èˆ‡å®‰å…¨ã€‚<br>YALEã€Philips å„å¤§å“ç‰Œå‹è™Ÿé½Šå…¨ï¼Œå¦æœ‰é«˜CPå€¼å¹³åƒ¹æ¬¾ã€‚</p>
                        <span style="color: #007bff; font-size: 0.9em; font-weight: bold;">æŸ¥çœ‹åƒ¹ç›®è¡¨ &rarr;</span>
                    </div>
                </div>
                <!-- 2. å‚³çµ±é– -->
                <div class="service-card" onclick="window.location.hash = 'traditional-page'">
                    <img src="https://raw.githubusercontent.com/aabbbcca/lock/main/images/å¤§å®‰ä½.PNG" class="real-img" alt="å‚³çµ±é–æ›´æ›">
                    <div class="card-body">
                        <h3>å‚³çµ±é–€é–æ›´æ›</h3>
                        <p style="color: #666; font-size: 0.9em;">ä¸‰æ®µé–ã€è¼”åŠ©é–ã€æ°´å¹³æŠŠæ‰‹ã€‚é»æ“ŠæŸ¥çœ‹å‚³çµ±æ©Ÿæ¢°é–æ¬¾å¼èˆ‡åƒ¹æ ¼ã€‚</p>
                        <span style="color: #007bff; font-size: 0.9em; font-weight: bold;">æŸ¥çœ‹æ¬¾å¼ &rarr;</span>
                    </div>
                </div>
                <!-- 3. é–‹é–æœå‹™ -->
                <div id="unlock-service" class="service-card emergency-card" onclick="window.location.hash = 'unlock-page'">
                    <div class="emergency-badge">ç·Šæ€¥</div>
                    <img src="https://placehold.co/400x300?text=24Hç·Šæ€¥é–‹é–&bg=e74c3c&color=fff" class="real-img" alt="24Hç·Šæ€¥é–‹é–">
                    <div class="card-body">
                        <h3>24H ç·Šæ€¥é–‹é–</h3>
                        <p style="color: #666; font-size: 0.9em;">å¿˜å¸¶é‘°åŒ™ã€é–€é–æ•…éšœã€æ©Ÿè»Šé‘°åŒ™éºå¤±ã€‚<br>é»æ“Šé€²å…¥ <b>ç·šä¸Šè‡ªå‹•ä¼°åƒ¹</b>ã€‚</p>
                        <span style="color: #e74c3c; font-size: 0.9em; font-weight: bold;">ç«‹å³ä¼°åƒ¹ &rarr;</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="features" class="section">
            <h2 class="section-title">ç‚ºä»€éº¼é›™åŒ—å¸‚æ°‘éƒ½æ¨è–¦å°æï¼Ÿ</h2>
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon icon-speed"><i class="fas fa-clock"></i></div>
                    <h3>æ¥µé€Ÿåˆ°é”</h3>
                    <p>å¹³å‡ 20 åˆ†é˜å…§æŠµé”ç¾å ´</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon icon-price"><i class="fas fa-tag"></i></div>
                    <h3>åƒ¹æ ¼é€æ˜</h3>
                    <p>çµ•ä¸å–Šåƒ¹ï¼ŒåŒæ„å ±åƒ¹æ‰æ–½å·¥</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon icon-cert"><i class="fas fa-shield-alt"></i></div>
                    <h3>å°ˆæ¥­èªè­‰</h3>
                    <p>æ”¿åºœç«‹æ¡ˆï¼Œå¯¦é«”åº—é¢ä¿éšœ</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon icon-warranty"><i class="fas fa-thumbs-up"></i></div>
                    <h3>åŸå» ä¿å›º</h3>
                    <p>å”®å¾Œæœå‹™å®Œå–„ï¼Œç¶­ä¿®æ‰¾å¾—åˆ°äºº</p>
                </div>
            </div>
        </section>

        <section id="faq" class="section bg-light">
            <h2 class="section-title">å®¢æˆ¶çœŸå¯¦å¥½è©•</h2>
            
            <div class="review-img-container">
                <div class="review-img-box"><img src="https://placehold.co/300x200?text=å¥½è©•æˆªåœ–1" alt="å®¢æˆ¶å¥½è©•"></div>
                <div class="review-img-box"><img src="https://placehold.co/300x200?text=å¥½è©•æˆªåœ–2" alt="å®¢æˆ¶å¥½è©•"></div>
                <div class="review-img-box"><img src="https://placehold.co/300x200?text=å¥½è©•æˆªåœ–3" alt="å®¢æˆ¶å¥½è©•"></div>
            </div>
            
            <a href="https://maps.app.goo.gl/UEi7xqQkTYTouMM87" target="_blank" class="google-review-btn">
                <i class="fab fa-google"></i> å‰å¾€ Google Maps æŸ¥çœ‹æ›´å¤šäº”æ˜Ÿå¥½è©•
            </a>

            <div class="faq-list" style="margin-top: 50px;">
                <h3 style="text-align:center; margin-bottom:20px;">å¸¸è¦‹å•é¡Œ</h3>
                <div class="faq-item"><div class="faq-q">Q: è«‹å•é–‹é–æˆ–æ›é–å¤§æ¦‚å¤šå°‘éŒ¢ï¼Ÿ</div><div class="faq-a">æˆ‘å€‘æœƒä¾æ“šé–çš„ç¨®é¡å ±åƒ¹ï¼Œå»ºè­°æ‚¨ä½¿ç”¨æˆ‘å€‘çš„ <a href="javascript:void(0)" onclick="window.location.hash='unlock-page'" style="color:#007bff;text-decoration:underline;">ç·šä¸Šä¼°åƒ¹ç³»çµ±</a> åˆæ­¥è©¦ç®—ï¼Œåƒ¹æ ¼é€æ˜æ›´å®‰å¿ƒã€‚</div></div>
                <div class="faq-item"><div class="faq-q">Q: è«‹å•åŠå¤œæœ‰æœå‹™å—ï¼Ÿ</div><div class="faq-a">æœ‰çš„ï¼æˆ‘å€‘æä¾› 24 å°æ™‚ç·Šæ€¥æ•‘æ´æœå‹™ï¼Œé›™åŒ—åœ°å€éš¨æ™‚å¾…å‘½ã€‚</div></div>
            </div>
        </section>

        <section class="bottom-cta section">
            <h2>é‚„åœ¨çŒ¶è±«é–€é–å•é¡Œï¼Ÿç¾åœ¨å°±è«®è©¢ï¼</h2>
            <div class="cta-buttons">
                <a href="https://line.me/ti/p/_w85tXo5KV" class="btn-line"><i class="fab fa-line"></i> åŠ  LINE ç·šä¸Šå ±åƒ¹</a>
                <a href="tel:0903109970" class="btn-phone"><i class="fas fa-phone-alt"></i> ç›´æ¥é›»è©±è¯çµ¡</a>
            </div>
        </section>
    </main>

    <!-- ================== é–‹é–æœå‹™ä¼°åƒ¹é  ================== -->
    <div id="unlock-page" class="sub-page">
        <div class="page-header"><a class="back-btn" onclick="window.location.hash=''">ğŸ”™ è¿”å›é¦–é </a><h2>ç·šä¸Šç·Šæ€¥é–‹é–ä¼°åƒ¹</h2><p>ç°¡å–® 3 æ­¥é©Ÿï¼Œç«‹å³è©¦ç®—åƒ¹æ ¼</p></div>
        <div class="wizard-container">
            <div id="step-1" class="step-container active">
                <div class="wizard-title">è«‹å•æ‚¨éœ€è¦é–‹å•Ÿçš„æ˜¯ï¼Ÿ</div>
                <div class="option-grid">
                    <div class="option-btn" onclick="selectType('electronic')">é›»å­é–</div>
                    <div class="option-btn" onclick="selectType('traditional')">å‚³çµ±é–</div>
                    <div class="option-btn" onclick="selectType('scooter')">æ©Ÿè»Š</div>
                    <div class="option-btn" onclick="selectType('access-control')">é–€ç¦ç³»çµ±</div>
                    <div class="option-btn" onclick="selectType('other')">å…¶ä»–</div>
                </div>
            </div>
            <div id="step-2" class="step-container">
                <div class="wizard-title">è«‹å•æ›´è©³ç´°çš„è³‡è¨Šï¼Ÿ</div>
                <div id="dynamic-options" class="option-grid"></div>
                
                <!-- é–é–€ç‹€æ…‹åˆ‡æ› (å‚³çµ±é–å°ˆç”¨) -->
                <div id="lock-status-toggle" style="display:none; margin-top:20px;">
                    <p style="text-align:center; font-weight:bold;">ç›®å‰çš„é–é–€ç‹€æ…‹ï¼Ÿ</p>
                    <div class="toggle-switch">
                        <div class="toggle-btn" id="status-closed" onclick="setLockStatus('closed')">åªæ˜¯é—œä¸Š(ç„¡é–)</div>
                        <div class="toggle-btn" id="status-locked" onclick="setLockStatus('locked')">å·²ä¸Šé–/åé–</div>
                    </div>
                </div>
                
                <!-- é–æ®µé¸æ“‡ (åé–å°ˆç”¨) -->
                <div id="lock-segment-selector" style="display:none; margin-top:15px; text-align:center;">
                    <p style="font-weight:bold; font-size:0.9em; color:#666;">é–äº†å¹¾æ®µï¼Ÿ (é‘°åŒ™è½‰äº†å¹¾åœˆ)</p>
                    <div style="display:flex; justify-content:center; gap:10px;">
                        <button class="toggle-btn" onclick="setSegmentCount(1)">1æ®µ</button>
                        <button class="toggle-btn" onclick="setSegmentCount(2)">2æ®µ</button>
                        <button class="toggle-btn" onclick="setSegmentCount(3)">3æ®µ</button>
                        <button class="toggle-btn" onclick="setSegmentCount(4)">4æ®µ</button>
                    </div>
                    <p style="font-size:0.8em; color:#999; margin-top:5px;">*ä¸ç¢ºå®šè«‹é¸ 2 æ®µ</p>
                </div>

                <div class="control-btns"><button class="btn-prev" onclick="prevStep(2)">ä¸Šä¸€æ­¥</button></div>
            </div>
            <div id="step-3" class="step-container">
                <div class="wizard-title">æœ€å¾Œï¼Œè«‹å•åœ°é»ç’°å¢ƒï¼Ÿ</div>
                <div class="input-group">
                    <label>æ‚¨çš„åœ°å€ (ç”¨æ–¼è¨ˆç®—è·é›¢)</label>
                    <div style="display:flex; gap:5px;"><input type="text" id="address-input" placeholder="ä¾‹å¦‚ï¼šæ–°åŒ—å¸‚æ°¸å’Œå€ä¸­æ­£è·¯100è™Ÿ" style="flex-grow:1;"><button onclick="getCurrentLocation()" style="background:#eee; border:1px solid #ccc; border-radius:5px; width:40px; cursor:pointer;"><i class="fas fa-map-marker-alt" style="color:#e74c3c;"></i></button></div>
                </div>
                <div class="input-group">
                    <label>è·é›¢å°æé–‹é– (å…¬é‡Œ)</label>
                    <div style="display:flex; gap:10px;"><input type="number" id="distance-input" placeholder="è«‹çœ‹åœ°åœ–å¡«å…¥æ•¸å­—" step="0.1" onchange="calculatePrice()"><button onclick="openGoogleMaps()" style="background:#4285F4; color:white; border:none; border-radius:5px; padding:0 15px; cursor:pointer; font-size:0.9em; flex-shrink:0;">é–‹å•Ÿåœ°åœ–æŸ¥çœ‹å…¬é‡Œæ•¸</button></div>
                    <div class="helper-text">ç³»çµ±æœƒå¹«æ‚¨è‡ªå‹•å°èˆªï¼Œè«‹å¡«å…¥åœ°åœ–é¡¯ç¤ºçš„å…¬é‡Œæ•¸ã€‚<br>3å…¬é‡Œå…§ä¸åŠ åƒ¹ï¼Œè¶…éæ¯å…¬é‡Œ +100å…ƒã€‚</div>
                </div>
                <div class="input-group">
                    <label>ç¾åœ¨æ™‚æ®µ (ç³»çµ±è‡ªå‹•åˆ¤æ–·)</label>
                    <select id="time-select" onchange="calculatePrice()"><option value="day">09:00 - 21:00 (ä¸€èˆ¬æ™‚æ®µ)</option><option value="evening">21:00 - 23:00 (æ™šé–“åŠ æˆ)</option><option value="late">23:00 - 00:00 (æ·±å¤œåŠ æˆ)</option><option value="midnight">00:00 - 08:00 (å¤§å¤œæ€¥è¨º)</option></select>
                </div>
                <div class="input-group">
                    <label>æ¨“å±¤æƒ…æ³</label>
                    <select id="floor-select" onchange="calculatePrice()"><option value="0">æœ‰é›»æ¢¯ / ç„¡é›»æ¢¯1-4æ¨“ (ä¸åŠ åƒ¹)</option><option value="100">å…¬å¯“çˆ¬æ¨“æ¢¯ 5æ¨“ (+$100)</option><option value="200">å…¬å¯“çˆ¬æ¨“æ¢¯ 6æ¨“ (+$200)</option></select>
                </div>
                <div class="price-result"><div class="price-note">é ä¼°è²»ç”¨</div><div class="final-price" id="final-price-display">NT$ --</div><div class="price-note" id="price-breakdown">è«‹å¡«å¯«å®Œæ•´è³‡è¨Šä»¥è¨ˆç®—</div></div>
                <div class="control-btns"><button class="btn-prev" onclick="prevStep(3)">ä¸Šä¸€æ­¥</button><button class="btn-next" onclick="finishWizard()">ç¢ºèªå‘¼å«</button></div>
            </div>
            <div id="step-4" class="step-container">
                <div class="wizard-title" style="color:#2ecc71;">ä¼°åƒ¹å®Œæˆï¼</div>
                <div style="text-align:center; margin-bottom:20px;">
                    <p>æ‚¨çš„éœ€æ±‚æˆ‘å€‘å·²ç¶“äº†è§£ï¼Œå¸«å‚…æº–å‚™å‡ºç™¼ï¼</p>
                    <div class="final-price" id="result-price-display">NT$ 300</div>
                    <p style="color: #666; font-size: 0.9em;">(æ­¤ç‚ºç³»çµ±é ä¼°åƒ¹æ ¼ï¼Œå¯¦éš›ç‹€æ³ä»¥å¸«å‚…å›è¦†ç¢ºèªç‚ºä¸»)</p>
                </div>
                <div class="cta-buttons">
                    <a id="btn-wizard-line" class="btn-wizard-line"><i class="fab fa-line"></i> å‚³é€ä½ç½®çµ¦å¸«å‚… (LINE)</a>
                    <a href="tel:0903109970" class="btn-wizard-phone"><i class="fas fa-phone-alt"></i> æ’¥æ‰“é›»è©±</a>
                </div>
                <br>
                <div style="text-align:center;"><button class="btn-reset" onclick="resetWizard(); nextStep(1)">ğŸ”„ é‡æ–°ä¼°åƒ¹</button><br><a onclick="window.location.hash=''" style="text-decoration:underline; color:#666; cursor:pointer;">å›é¦–é </a></div>
            </div>
        </div>
    </div>

    <!-- ================== é›»å­é–ç”¢å“åˆ—è¡¨é  ================== -->
    <div id="electronic-page" class="sub-page">
        <div class="page-header">
            <a class="back-btn" onclick="window.location.hash=''">ğŸ”™ è¿”å›é¦–é </a>
            <h2>ç†±é–€æ™ºæ…§é›»å­é–æ¬¾å¼</h2>
            <p>åš´é¸åœ‹éš›å¤§å» ï¼Œå«å®‰è£ã€æ•™å­¸åŠåŸå» ä¿å›º</p>
        </div>
        <div id="electronic-list"></div>
        <div class="bottom-cta section">
            <h2>æ‰¾ä¸åˆ°å–œæ­¡çš„å‹è™Ÿï¼Ÿ</h2>
            <div class="cta-buttons">
                <a href="https://line.me/ti/p/_w85tXo5KV" class="btn-line"><i class="fab fa-line"></i> åŠ  LINE ç´¢å–å‹éŒ„</a>
                <a href="tel:0903109970" class="btn-phone"><i class="fas fa-phone-alt"></i> è‡´é›»è«®è©¢</a>
            </div>
        </div>
    </div>

    <!-- ================== ç”¢å“è©³ç´°é é¢ ================== -->
    <div id="product-detail-page" class="sub-page"></div>

    <!-- ================== å‚³çµ±é–ç”¢å“é  ================== -->
    <div id="traditional-page" class="sub-page">
        <div class="page-header"><a class="back-btn" onclick="window.location.hash=''">ğŸ”™ è¿”å›é¦–é </a><h2>ç²¾é¸å‚³çµ±æ©Ÿæ¢°é–€é–</h2></div>
        <div id="traditional-list"></div>
        <div class="bottom-cta section"><h2>é–€é–å£äº†ï¼Ÿé‘°åŒ™å¡ä½ï¼Ÿ</h2><div class="cta-buttons"><a href="https://line.me/ti/p/_w85tXo5KV" class="btn-line"><i class="fab fa-line"></i> LINE æ‹ç…§å ±åƒ¹</a><a href="tel:0903109970" class="btn-phone"><i class="fas fa-phone-alt"></i> ç·Šæ€¥ç¶­ä¿®</a></div></div>
    </div>

    <!-- ================== å®‰è£å¯¦ä¾‹é é¢ ================== -->
    <div id="examples-page" class="sub-page">
        <div class="page-header"><a class="back-btn" onclick="window.location.hash=''">ğŸ”™ è¿”å›é¦–é </a><h2>å®‰è£å¯¦ä¾‹</h2></div>
        <div class="gallery-grid">
            <div class="gallery-item"><img src="https://placehold.co/400x300?text=é›»å­é–æ–½å·¥åœ–1" class="real-img"><div class="gallery-caption">Philips é›»å­é–å®‰è£ - æ¿æ©‹é™³å®…</div></div>
            <div class="gallery-item"><img src="https://placehold.co/400x300?text=å‚³çµ±é–æ–½å·¥åœ–1" class="real-img"><div class="gallery-caption">ä¸é½é‹¼ä¸‰æ®µé–æ›´æ› - ä¸­å’Œæ—å®…</div></div>
            <div class="gallery-item"><img src="https://placehold.co/400x300?text=é›»å­é–æ–½å·¥åœ–2" class="real-img"><div class="gallery-caption">Samsung é›»å­é–å®‰è£ - æ–°åº—ç‹å®…</div></div>
            <div class="gallery-item"><img src="https://placehold.co/400x300?text=é–‹é–åœ–" class="real-img"><div class="gallery-caption">å¤œé–“ç·Šæ€¥é–‹é–æ•‘æ´ - æ°¸å’Œ</div></div>
            <div class="gallery-item"><img src="https://placehold.co/400x300?text=é–€é–ç¶­ä¿®" class="real-img"><div class="gallery-caption">è€èˆŠé–€é–ç¶­ä¿®æ›´æ›</div></div>
            <div class="gallery-item"><img src="https://placehold.co/400x300?text=è¼”åŠ©é–å®‰è£" class="real-img"><div class="gallery-caption">åŠ è£è¼”åŠ©é–æå‡å®‰å…¨</div></div>
        </div>
    </div>

    <!-- é å°¾ -->
    <footer>
        <p>&copy; 2026 å°æé–‹é–æœå‹™. All rights reserved. | <a href="https://share.google/QnykUdfL2kR4e5KjI" target="_blank" style="text-decoration: underline;">Google å•†å®¶æª”æ¡ˆ</a></p>
    </footer>

    <!-- JavaScript æ§åˆ¶é‚è¼¯ -->
    <script>
        // --- ç”¢å“è³‡æ–™åº« ---
        const products = {
            // == é›»å­é– ==
            'luna-pro': {
                id: 'luna-pro', brand: 'yale', title: 'Yale Luna Pro+ äººè‡‰è¾¨è­˜',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/yale-luna-pro-plus-front-body-1.webp',
                tag: 'Yale æ——è‰¦æ¬¾', listPrice: 39800, offerPrice: 27999,
                desc: 'åå¿ƒé˜²å¤¾æ‰‹è¨­è¨ˆï¼Œéœ§é¢é»‘é…é¦™æª³é‡‘/æ˜Ÿç©ºç°ã€‚æ¥µè‡´å®‰å…¨èˆ‡ä¾¿åˆ©çš„é ‚ç´šé¸æ“‡ã€‚<br>æ”¯æ´ 3D äººè‡‰è­˜åˆ¥ï¼Œé è¿‘è‡ªå‹•å–šé†’ï¼Œå®Œå…¨è§£æ”¾é›™æ‰‹ã€‚ (å«å®‰è£)',
                features: ['äººè‡‰è¾¨è­˜ / æŒ‡ç´‹ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™ / App', '3D äººè‡‰è­˜åˆ¥ï¼Œé è¿‘è‡ªå‹•å–šé†’', 'æ­è¦å¤§é–åŒ£ï¼Œçµæ§‹å …å›º', 'é˜²å¤¾æ‰‹æŠŠæ‰‹è¨­è¨ˆ']
            },
            'byyou-pro': {
                id: 'byyou-pro', brand: 'yale', title: 'Yale ByYou Pro æŒ‡ç´‹å¡ç‰‡',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/byyou.PNG',
                tag: 'Yale æ™‚å°šæ¬¾', listPrice: 30000, offerPrice: 25399,
                desc: 'å¤šè‰²æŠŠæ‰‹è‡ªç”±é¸ (åˆå¤œé»‘/é¦™æª³é‡‘/å†°æ™¶éŠ€)ã€‚æ”¯æ´ Apple/Samsung Wallet è§£é–ã€‚<br>æ™‚å°šå¤–å‹ï¼Œæ­é…ç¾ä»£è£æ½¢çš„æœ€ä½³é¸æ“‡ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™ / è—èŠ½', 'å…§å»ºè—èŠ½æ¨¡çµ„ï¼Œæ‰‹æ©Ÿå°±æ˜¯é‘°åŒ™', 'æ™‚å°šå¤–å‹ï¼Œæ­é…ç¾ä»£è£æ½¢', 'æ”¯æ´æ‰‹æ©ŸéŒ¢åŒ…è§£é–']
            },
            'ydm7116a': {
                id: 'ydm7116a', brand: 'yale', title: 'Yale YDM7116A æŠŠæ‰‹å¼',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/YDM7116A.PNG',
                tag: 'Yale ç¶“å…¸æ¬¾', listPrice: 30500, offerPrice: 19000,
                desc: 'ç¶“å…¸æŠŠæ‰‹è¨­è¨ˆï¼Œé•·è¼©ä½¿ç”¨æœ€ç¿’æ…£ã€‚æœ‰é»‘è‰²è·Ÿç«ç‘°é‡‘å¯é¸ï¼ŒåŠŸèƒ½ç©©å®šè€ç”¨ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'èªéŸ³å°è¦½è¨­å®šï¼Œæ“ä½œç°¡å–®', 'å¼·åˆ¶ä¸Šé–èˆ‡å…¥ä¾µè­¦å ±åŠŸèƒ½']
            },
            'ydm4109a': {
                id: 'ydm4109a', brand: 'yale', title: 'Yale YDM4109A æ™ºæ…§æŒ‡ç´‹é–',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/YDM4109A.PNG',
                tag: 'Yale æ™ºæ…§æ¬¾', listPrice: 24800, offerPrice: 16000,
                desc: 'ä¸‰åˆä¸€æŒ‡ç´‹å¯†ç¢¼é‘°åŒ™ã€‚ç¶“å…¸ç†±éŠ·æ¬¾å‡ç´šï¼Œé‡‘è‰²/é»‘è‰²å¯é¸ã€‚æ–·å±¤å¼æŒ‡ç´‹æƒæï¼Œå®‰å…¨å¯é ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¯†ç¢¼ / é‘°åŒ™', 'è™›ä½å¯†ç¢¼åŠŸèƒ½ï¼Œé˜²çªºè¦–', 'å¯é¸é…è—èŠ½/é ç«¯æ¨¡çµ„']
            },
            'ymf40a': {
                id: 'ymf40a', brand: 'yale', title: 'Yale YMF40A ç†±æ„Ÿæ‡‰è§¸æ§',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/YMF40A.PNG',
                tag: 'Yale æ¨æ‹‰æ¬¾', listPrice: 25800, offerPrice: 17000,
                desc: 'ä¸‰åˆä¸€æŒ‡ç´‹å¯†ç¢¼é‘°åŒ™ã€‚ç°¡ç´„é»‘è‰²æ¨æ‹‰å¼è¨­è¨ˆï¼Œç¾è§€å¤§æ–¹ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¯†ç¢¼ / é‘°åŒ™', 'ç†±æ„Ÿæ‡‰è§¸æ§é¢æ¿', 'å…¥ä¾µ/ç ´å£è­¦å ±åŠŸèƒ½']
            },
             'ymf30a': {
                id: 'ymf30a', brand: 'yale', title: 'Yale YMF30A å¡ç‰‡å¯†ç¢¼é–',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/YMF30A.PNG',
                tag: 'Yale å¡ç‰‡æ¬¾', listPrice: 24800, offerPrice: 16000,
                desc: 'ä¸‰åˆä¸€å¡ç‰‡å¯†ç¢¼é‘°åŒ™ã€‚ (å«å®‰è£)',
                features: ['å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'ç†±æ„Ÿæ‡‰è§¸æ§é¢æ¿', 'ç¾è§€è€ç”¨']
            },
            'ydm7216a': {
                id: 'ydm7216a', brand: 'yale', title: 'Yale YDM7216A éš±è—å¼æŒ‡ç´‹',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/YDM7216A.PNG',
                tag: 'Yale å‡ç´šæ¬¾', listPrice: 26800, offerPrice: 18000,
                desc: 'è·Ÿ7116AåŸºæœ¬ä¸Šä¸€æ¨£åªæ˜¯æŒ‡ç´‹æ„Ÿæ‡‰çš„åœ°æ–¹åšæˆéš±è—å¼ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'éš±è—å¼æŒ‡ç´‹æ„Ÿæ‡‰', 'èªéŸ³å°è¦½è¨­å®š']
            },
            // --- Philips ---
            'philips-9300': {
                id: 'philips-9300', brand: 'philips', title: 'Philips 9300 (å¹³è¡Œè¼¸å…¥)',
                img: 'https://placehold.co/400x300?text=Philips+9300',
                tag: 'Philips é ‚ç´šæ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: 'å…¨è‡ªå‹•æ¨æ‹‰å¼ï¼Œæ”¯æ´ç‰©è¯ç¶²é€£ç·šã€‚é ‚ç´šå·¥è—è¨­è¨ˆï¼Œå°Šæ¦®äº«å—ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¯†ç¢¼ / å¡ç‰‡ / é‘°åŒ™ / App', 'å…¨è‡ªå‹•é–é«”', 'å®¤å…§æ„Ÿæ‡‰é–‹é–€']
            },
            'philips-790fvp': {
                id: 'philips-790fvp', brand: 'philips', title: 'Philips 790FVP (å¹³è¡Œè¼¸å…¥)',
                img: 'https://placehold.co/400x300?text=Philips+790FVP',
                tag: 'Philips è¦–è¨Šæ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: 'å…§å»ºé›»å­è²“çœ¼èˆ‡è¦–è¨Šé€šè©±åŠŸèƒ½ï¼Œéš¨æ™‚æŒæ¡é–€å¤–å‹•æ…‹ã€‚ (å«å®‰è£)',
                features: ['äººè‡‰ / æŒ‡ç´‹ / å¯†ç¢¼ / å¡ç‰‡ / é‘°åŒ™', 'é ç«¯è¦–è¨Šé€šè©±', 'å¤§è¢å¹•è²“çœ¼']
            },
            // --- Waferlock ---
            'wafer-l600': {
                id: 'wafer-l600', brand: 'waferlock', title: 'ç¶­å¤«æ‹‰å…‹ Waferlock L600',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/L600.PNG',
                tag: 'Waferlock äººè‡‰æ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: '4åˆä¸€æŠŠæ‰‹å¼ (äººè‡‰/å¡ç‰‡/å¯†ç¢¼/é‘°åŒ™)ï¼Œé–‹é–€æ›´å¿«é€Ÿã€‚ (å«å®‰è£)',
                features: ['äººè‡‰è¾¨è­˜ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'IP54 é˜²å¡µé˜²æ°´', 'ä¸­æ–‡èªéŸ³æç¤º']
            },
            'wafer-l900': {
                id: 'wafer-l900', brand: 'waferlock', title: 'ç¶­å¤«æ‹‰å…‹ Waferlock L900',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/L900.PNG',
                tag: 'Waferlock æ¨æ‹‰æ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: '4åˆ1æ¨æ‹‰å¼ (æŒ‡ç´‹/å¡ç‰‡/å¯†ç¢¼/é‘°åŒ™)ï¼Œæ™‚å°šè¨­è¨ˆã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'æ¨æ‹‰å¼æŠŠæ‰‹', 'é˜²é«˜å£“é›»æ“Š']
            },
            'wafer-l396': {
                id: 'wafer-l396', brand: 'waferlock', title: 'ç¶­å¤«æ‹‰å…‹ Waferlock L396',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/L396.PNG',
                tag: 'Waferlock æŒ‡ç´‹æ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: '4åˆ1æŠŠæ‰‹å¼ (æŒ‡ç´‹/å¡ç‰‡/å¯†ç¢¼/é‘°åŒ™)ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'é©åˆè¾¦å…¬å®¤/ç§Ÿå±‹']
            },
            'wafer-l376': {
                id: 'wafer-l376', brand: 'waferlock', title: 'ç¶­å¤«æ‹‰å…‹ Waferlock L376',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/L376.PNG',
                tag: 'Waferlock åŸºæœ¬æ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: 'åŸºæœ¬æ¬¾3åˆ1æŠŠæ‰‹å¼ (å¡ç‰‡/å¯†ç¢¼/é‘°åŒ™)ã€‚ (å«å®‰è£)',
                features: ['å¡ç‰‡ / å¯†ç¢¼ / é‘°åŒ™', 'ç¶“æ¿Ÿå¯¦æƒ ']
            },
            // --- CPå€¼æ¬¾ ---
            'cp-r1': {
                id: 'cp-r1', brand: 'cp', title: 'é«˜CPå€¼æ¬¾ R1',
                img: 'https://placehold.co/400x300?text=R1+é›»å­é–',
                tag: 'å°è³‡é¦–é¸', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: 'åŠŸèƒ½å¯¦ç”¨ï¼Œåƒ¹æ ¼è¦ªæ°‘ï¼Œæˆ¿æ±èˆ‡ç§Ÿå±‹æ—çš„æœ€æ„›ã€‚ (å«å®‰è£)',
                features: ['æŒ‡ç´‹ / å¯†ç¢¼ / é‘°åŒ™', 'åŸºæœ¬é˜²ç›œåŠŸèƒ½', 'é«˜æ€§åƒ¹æ¯”']
            },
            'cp-r9': {
                id: 'cp-r9', brand: 'cp', title: 'é«˜CPå€¼æ¬¾ R9 (äººè‡‰è¾¨è­˜)',
                img: 'https://placehold.co/400x300?text=R9+äººè‡‰é–',
                tag: 'äººè‡‰å…¥é–€æ¬¾', listPrice: null, offerPrice: 'è«‹æ´½è©¢',
                desc: 'æœ€å¹³åƒ¹çš„äººè‡‰è¾¨è­˜é›»å­é–ï¼Œè¼•é¬†å‡ç´šæ™ºæ…§ç”Ÿæ´»ã€‚ (å«å®‰è£)',
                features: ['äººè‡‰ / æŒ‡ç´‹ / å¯†ç¢¼ / é‘°åŒ™', '3D äººè‡‰è­˜åˆ¥', 'å¤§è¢å¹•è²“çœ¼']
            },
            
            // == å‚³çµ±é– ==
            'trad-3-4': {
                id: 'trad-3-4', brand: 'trad-main', title: 'ä¸‰æ®µé– / å››æ®µé–',
                img: 'https://placehold.co/400x300?text=ä¸‰æ®µé–',
                tag: 'æœ€é«˜cpå€¼', offerPrice: '2000èµ·',
                desc: 'å°ç£è£½é€ ï¼Œçµæ§‹åšå¯¦ã€‚å…¬å¯“å¤§é–€æœ€å¸¸è¦‹çš„é¸æ“‡ï¼ŒCPå€¼é«˜ã€‚ (å«å®‰è£)',
                features: ['é›»ç™½ä¸‰æ®µé–ï¼šNT$ 2,000 (å«å®‰è£)', 'ä¸é½é‹¼ä¸‰æ®µé–ï¼šNT$ 2,500~2,700 (å«å®‰è£)', 'ä¸é½é‹¼å››æ®µé–ï¼šNT$ 3,000 (å«å®‰è£)']
            },
            'trad-5-blade': {
                id: 'trad-5-blade', brand: 'trad-main', title: 'è‘‰ç‰‡äº”æ®µé– (é˜²ç›œå‡ç´š)',
                img: 'https://raw.githubusercontent.com/aabbbcca/lock/main/images/å¤§å®‰ä½.PNG',
                tag: 'é˜²ç›œé¦–é¸', offerPrice: '3800èµ·',
                desc: 'è‘‰ç‰‡å¼çµæ§‹ï¼Œç„¡é–èŠ¯è¨­è¨ˆï¼Œé˜²æ’¬é˜²é–‹èƒ½åŠ›æ¥µä½³ï¼Œå±…å®¶å®‰å…¨é¦–é¸ã€‚ (å«å®‰è£)',
                features: ['å°å®‰ä½ï¼šNT$ 3,800 (å«å®‰è£)', 'å¤§å®‰ä½ï¼šNT$ 4,500 (å«å®‰è£)', 'çµæ§‹ç²¾å¯†ï¼Œé›£ä»¥è¢«æŠ€è¡“é–‹å•Ÿ']
            },
            'trad-aux': {
                id: 'trad-aux', brand: 'trad-main', title: 'è¼”åŠ©é–',
                img: 'https://placehold.co/400x300?text=è¼”åŠ©é–',
                tag: 'è¼”åŠ©é–', offerPrice: '1000èµ·',
                desc: 'å®‰è£æ–¼é–€æ‰‹æŠŠä¸Šæ–¹ï¼Œå¢åŠ ä¸€é“é˜²ç·šã€‚é«”ç©å°ã€åƒ¹æ ¼ä¾¿å®œã€åŸºæœ¬é˜²ç›œã€‚ (å«å®‰è£)',
                features: ['åƒ¹æ ¼ï¼šNT$ 1,000 ~ 1,500 (å«å®‰è£)', 'æ©Ÿæ¢°çµæ§‹ç°¡å–®è€ç”¨', 'å¤šç¨®é¡è‰²å¯é¸']
            },
            
            // æ–°å¢åˆ†é¡ï¼šé›»é–èˆ‡ç‰¹æ®Šé–
            'trad-gate-electric': {
                id: 'trad-gate-electric', brand: 'trad-electric', title: 'å¤§é–€é›»é–',
                img: 'https://placehold.co/400x300?text=å¤§é–€é›»é–',
                tag: 'å…¬å¯“å°è¬›æ©Ÿ', offerPrice: 'è«‹æ´½è©¢',
                desc: 'é€£æ¥å°è¬›æ©Ÿç³»çµ±ï¼Œå¯é ç«¯é–‹é–€ã€‚é©ç”¨æ–¼å…¬å¯“å¤§é–€ã€‚ (å«å®‰è£)',
                features: ['éœéŸ³/æ¨™æº–æ¬¾', 'å¯é…åˆå°è¬›æ©Ÿæ–½å·¥']
            },
            'trad-3in1': {
                id: 'trad-3in1', brand: 'trad-electric', title: 'ä¸‰åˆä¸€é€šé¢¨é–€é–',
                img: 'https://placehold.co/400x300?text=é€šé¢¨é–€é–',
                tag: 'å¾Œé™½å°å°ˆç”¨', offerPrice: 'è«‹æ´½è©¢',
                desc: 'å°ˆç‚ºé€šé¢¨é–€è¨­è¨ˆï¼ŒçµåˆæŠŠæ‰‹èˆ‡é–å…·ã€‚ (å«å®‰è£)',
                features: ['å®‰è£æ–¼å»šæˆ¿/é™½å°é–€', 'æ¨æ‹‰é †æš¢']
            },
            'trad-horiz-integrated': {
                id: 'trad-horiz-integrated', brand: 'trad-electric', title: 'æ°´å¹³é€£é«”é–',
                img: 'https://placehold.co/400x300?text=æ°´å¹³é€£é«”é–',
                tag: 'å¤§é–€å°ˆç”¨', offerPrice: 'è«‹æ´½è©¢',
                desc: 'æŠŠæ‰‹èˆ‡é–é«”ä¸€é«”æˆå‹ï¼Œå¤–è§€æ°£æ´¾ï¼Œçµæ§‹ç©©å›ºã€‚ (å«å®‰è£)',
                features: ['é©ç”¨æ–¼ç¡«åŒ–éŠ…é–€', 'å¤šç¨®æ¬¾å¼å¯é¸']
            },
            'trad-floor': {
                id: 'trad-floor', brand: 'trad-electric', title: 'åœ°é–',
                img: 'https://placehold.co/400x300?text=åœ°é–',
                tag: 'ç»ç’ƒé–€', offerPrice: 'è«‹æ´½è©¢',
                desc: 'å®‰è£æ–¼ç»ç’ƒé–€åº•éƒ¨ï¼Œä¸ç ´å£ç»ç’ƒçµæ§‹ã€‚ (å«å®‰è£)',
                features: ['åº—é¢ç»ç’ƒé–€å°ˆç”¨', 'éš±è—å¼å®‰è£']
            },
            
            // æ–°å¢åˆ†é¡ï¼šæ—¥è¦ç³»åˆ—
            'trad-jp-horiz': {
                id: 'trad-jp-horiz', brand: 'trad-japan', title: 'æ—¥è¦æ°´å¹³é– (MIWA/GOAL)',
                img: 'https://placehold.co/400x300?text=æ—¥è¦æ°´å¹³é–',
                tag: 'æ—¥ç³»å·¥è—', offerPrice: 'è«‹æ´½è©¢',
                desc: 'æ—¥æœ¬é€²å£è¦æ ¼ï¼Œå·¥è—ç²¾ç´°ï¼Œé–‹é—œé–€æ‰‹æ„Ÿæ¥µä½³ã€‚ (å«å®‰è£)',
                features: ['éœéŸ³è¨­è¨ˆ', 'è€ç”¨åº¦é«˜']
            },
            'trad-jp-aux': {
                id: 'trad-jp-aux', brand: 'trad-japan', title: 'æ—¥è¦è¼”åŠ©é–',
                img: 'https://placehold.co/400x300?text=æ—¥è¦è¼”åŠ©é–',
                tag: 'åŠ å¼·é˜²ç›œ', offerPrice: 'è«‹æ´½è©¢',
                desc: 'æ­é…æ—¥è¦ä¸»é–ä½¿ç”¨ï¼Œå¢åŠ å®‰å…¨æ€§ã€‚ (å«å®‰è£)',
                features: ['ç‰¹æ®Šé–èŠ¯è¨­è¨ˆ', 'é˜²æ’¬èƒ½åŠ›å¼·']
            },
            
            // æ–°å¢åˆ†é¡ï¼šæˆ¿é–€èˆ‡é€šé“
            'trad-room': {
                id: 'trad-room', brand: 'trad-room', title: 'æˆ¿é–€é– (å–‡å­/æ°´å¹³)',
                img: 'https://placehold.co/400x300?text=æˆ¿é–€é–',
                tag: 'ä¸€èˆ¬æˆ¿é–€', offerPrice: '700èµ·',
                desc: 'é©ç”¨æ–¼æˆ¿é–“é–€ã€æµ´å»é–€ã€è¾¦å…¬å®¤ã€‚å¤–å‹ç°¡ç´„ï¼Œé–‹é—œé–€é †æ‰‹ã€‚ (å«å®‰è£)',
                features: ['å–‡å­é–ï¼šNT$ 700 (å«å®‰è£)', 'æ°´å¹³æŠŠæ‰‹é–ï¼šNT$ 1,000 (å«å®‰è£)']
            },
            'trad-passage': {
                id: 'trad-passage', brand: 'trad-room', title: 'é€šé“é– (ç„¡é–)',
                img: 'https://placehold.co/400x300?text=é€šé“é–',
                tag: 'å…¬å…±ç©ºé–“', offerPrice: 'è«‹æ´½è©¢',
                desc: 'ç„¡ä¸Šé–åŠŸèƒ½ï¼Œåƒ…ä¾›é–‹é—œé–€ä½¿ç”¨ã€‚é©ç”¨æ–¼èµ°é“ã€å„²è—å®¤ã€‚ (å«å®‰è£)',
                features: ['ç„¡é‘°åŒ™è¨­è¨ˆ', 'é˜²æ­¢èª¤é–']
            }
        };

        const electronicCategories = [
            { id: 'yale', title: 'è€¶é­¯ Yale' }, { id: 'philips', title: 'é£›åˆ©æµ¦ Philips' }, { id: 'waferlock', title: 'ç¶­å¤«æ‹‰å…‹ Waferlock' }, { id: 'cp', title: 'é«˜CPå€¼ç²¾é¸' }
        ];
        const traditionalCategories = [
            { id: 'trad-main', title: 'ç²¾é¸æ©Ÿæ¢°é–€é–' }, { id: 'trad-electric', title: 'é›»é–èˆ‡ç‰¹æ®Šé–' }, { id: 'trad-japan', title: 'æ—¥è¦ç³»åˆ—' }, { id: 'trad-room', title: 'æˆ¿é–€èˆ‡é€šé“' }
        ];

        window.onload = function() {
            renderElectronicList();
            renderTraditionalList();
            handleHashChange();
            const hour = new Date().getHours();
            let timeVal = 'day';
            if (hour >= 21 && hour < 23) timeVal = 'evening';
            else if (hour >= 23) timeVal = 'late';
            else if (hour < 8) timeVal = 'midnight';
            const timeSelect = document.getElementById('time-select');
            if (timeSelect) timeSelect.value = timeVal;
        };

        window.onhashchange = handleHashChange;

        function handleHashChange() {
            const hash = window.location.hash;
            if (hash.startsWith('#product-')) {
                const productId = hash.replace('#product-', '');
                if (products[productId]) {
                    showProductDetail(productId);
                } else {
                    showPage('electronic-page');
                }
            } else if (hash === '#electronic-page') { showPage('electronic-page'); } 
            else if (hash === '#traditional-page') { showPage('traditional-page'); } 
            else if (hash === '#unlock-page') { showPage('unlock-page'); } 
            else if (hash === '#examples-page') { showPage('examples-page'); } 
            else { showHome(); }
        }

        function renderElectronicList() { renderCategoryList('electronic-list', electronicCategories, 'electronic-page'); }
        function renderTraditionalList() { renderCategoryList('traditional-list', traditionalCategories, 'traditional-page'); }

        function renderCategoryList(containerId, categories, returnPageId) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            categories.forEach(cat => {
                const header = document.createElement('div');
                header.className = 'category-header';
                header.innerHTML = `<div class="brand-divider"></div><div class="brand-section-title">${cat.title}</div>`;
                container.appendChild(header);
                const grid = document.createElement('div');
                grid.className = 'product-grid';
                const catProducts = Object.values(products).filter(p => p.brand === cat.id);
                if (catProducts.length === 0) {
                    grid.innerHTML = '<p style="width:100%;text-align:center;color:#999;">å³å°‡ä¸Šæ¶</p>';
                } else {
                    catProducts.forEach(p => {
                        const card = document.createElement('div');
                        card.className = 'product-card';
                        card.onclick = () => { window.location.hash = `product-${p.id}`; };
                        
                        let priceDisplay = '';
                        if (typeof p.offerPrice === 'number') {
                            // å„ªæƒ åƒ¹æ”¹ç‚º NT$ 27,XXX
                            let priceStr = p.offerPrice.toLocaleString();
                            // å°‡æœ«ä¸‰ä½æ›¿æ›ç‚º XXX
                            if (priceStr.length > 3) {
                                priceStr = priceStr.slice(0, -4) + ',XXX'; 
                            } else {
                                priceStr = 'XXX';
                            }
                            priceDisplay = `<div style="color:#e74c3c;font-weight:bold;margin-top:10px;">å„ªæƒ åƒ¹ NT$ ${priceStr} (å«å®‰è£)</div>`;
                        } else {
                            priceDisplay = `<div style="color:#e74c3c;font-weight:bold;margin-top:10px;">${p.offerPrice} (å«å®‰è£)</div>`;
                        }

                        card.innerHTML = `
                            <div class="product-img-container"><span class="brand-tag">${p.tag}</span><img src="${p.img}" class="real-img" alt="${p.title}"></div>
                            <div class="product-body"><div class="product-title">${p.title}</div><ul class="product-features">${p.features.slice(0, 3).map(f => `<li>${f}</li>`).join('')}</ul>${priceDisplay}<div class="view-more-text">æŸ¥çœ‹è©³ç´°è¦æ ¼èˆ‡å„ªæƒ  &rarr;</div></div>
                        `;
                        grid.appendChild(card);
                    });
                }
                container.appendChild(grid);
            });
        }

        function showProductDetail(productId) {
            hideAllPages();
            const p = products[productId];
            const container = document.getElementById('product-detail-page');
            container.style.display = 'block';
            window.scrollTo(0, 0);
            
            const listPriceHTML = p.listPrice ? `<span class="list-price">å®šåƒ¹ NT$ ${p.listPrice.toLocaleString()}</span>` : '';
            // è©³ç´°é é¡¯ç¤ºçœŸå¯¦åƒ¹æ ¼ï¼Œæˆ–ä¹Ÿç”¨ XXX? å®¢æˆ¶èªª "å„ªæƒ åƒ¹æœ«ä¸‰ç¢¼å¯«XXX"ã€‚æ‰€ä»¥è©³ç´°é ä¹Ÿç”¨ XXXã€‚
            let offerPriceHTML = '';
            if (typeof p.offerPrice === 'number') {
                 let priceStr = p.offerPrice.toLocaleString();
                 if (priceStr.length > 3) {
                    priceStr = priceStr.slice(0, -4) + ',XXX'; 
                 }
                 offerPriceHTML = `NT$ ${priceStr}`;
            } else {
                offerPriceHTML = p.offerPrice;
            }

            const backHash = ['yale', 'philips', 'waferlock', 'cp'].includes(p.brand) ? 'electronic-page' : 'traditional-page';

            container.innerHTML = `
                <div class="page-header"><a class="back-btn" onclick="window.location.hash='${backHash}'">ğŸ”™ è¿”å›åˆ—è¡¨</a></div>
                <div class="detail-container">
                    <div class="detail-header">
                        <div class="detail-img-box"><img src="${p.img}" alt="${p.title}"></div>
                        <div class="detail-info">
                            <div class="detail-title">${p.title}</div>
                            <div class="detail-price-box">${listPriceHTML}<div class="offer-price">å„ªæƒ åƒ¹ ${offerPriceHTML} (å«å®‰è£)</div></div>
                            <div class="detail-desc">${p.desc}</div>
                            <div class="group-buy-box"><div class="group-buy-title">ğŸ”¥ ç¤¾å€åœ˜è³¼å„ªæƒ </div><div class="group-buy-item">æ»¿ 5 å°æ¯å°å†æŠ˜ <span style="color:#d35400; font-weight:bold;">$$$</span> (è«‹åŠ LINEæ´½è©¢)</div><div class="group-buy-item">æ»¿ 10 å°æ¯å°å†æŠ˜ <span style="color:#d35400; font-weight:bold;">$$$</span> (è«‹åŠ LINEæ´½è©¢)</div></div>
                            <div class="detail-actions">
                                <a onclick="copyAndGoLine('ä½ å¥½ï¼Œæˆ‘æƒ³è©¢å• ${p.title} çš„å„ªæƒ åƒ¹æ ¼èˆ‡å®‰è£ç´°ç¯€')" class="btn-line-ask"><i class="fab fa-line"></i> åŠ LINEè©¢å•å„ªæƒ åƒ¹</a>
                                <div onclick="shareToLine('${p.title}', '${window.location.href}')" class="btn-share"><i class="fas fa-share-alt"></i> åˆ†äº«çµ¦å¥½å‹</div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top:40px;"><h3>è©³ç´°è¦æ ¼</h3><ul class="product-features" style="font-size:1.1em;">${p.features.map(f => `<li>${f}</li>`).join('')}</ul></div>
                </div>
            `;
        }

        function showHome() { hideAllPages(); resetWizard(); document.getElementById('home-view').style.display = 'block'; history.pushState("", document.title, window.location.pathname); window.scrollTo(0, 0); }
        function showPage(pageId) { hideAllPages(); const targetPage = document.getElementById(pageId); if (targetPage) { targetPage.style.display = 'block'; if (pageId === 'unlock-page') resetWizard(); window.scrollTo(0, 0); } }
        function hideAllPages() { const pages = ['home-view', 'electronic-page', 'traditional-page', 'unlock-page', 'examples-page', 'product-detail-page']; pages.forEach(id => { const el = document.getElementById(id); if (el) el.style.display = 'none'; }); }
        function showHomeScroll(sectionId) { if(window.location.hash !== '') { window.location.hash = ''; setTimeout(() => { const section = document.getElementById(sectionId); if (section) section.scrollIntoView({ behavior: 'smooth' }); }, 100); } else { const section = document.getElementById(sectionId); if (section) section.scrollIntoView({ behavior: 'smooth' }); } }
        function copyAndGoLine(text) { const textarea = document.createElement('textarea'); textarea.value = text; document.body.appendChild(textarea); textarea.select(); try { document.execCommand('copy'); alert("å·²ç‚ºæ‚¨è¤‡è£½è©¢åƒ¹å…§å®¹ï¼\n\nå³å°‡è·³è½‰è‡³ LINEï¼Œè«‹åŠ å…¥å¥½å‹å¾Œç›´æ¥ã€Œé•·æŒ‰è²¼ä¸Šã€å³å¯ã€‚"); } catch (err) { alert("è¤‡è£½å¤±æ•—ï¼Œè«‹è·³è½‰å¾Œæ‰‹å‹•è¼¸å…¥éœ€æ±‚ã€‚"); } document.body.removeChild(textarea); window.location.href = 'https://line.me/ti/p/_w85tXo5KV'; }
        function shareToLine(title, url) { const shareUrl = `https://line.me/R/msg/text/?${encodeURIComponent(title + " æ¨è–¦çµ¦ä½ ï¼š\n" + url)}`; window.open(shareUrl, '_blank'); }
        function returnToElectronicList() { window.location.hash = 'electronic-page'; }

        // --- Wizard Logic ---
        let currentWizardStep = 1;
        let estimateData = { type: '', subtype: '', locked: false, segments: 0, time: 'day', floorPrice: 0, distance: 0 };

        function resetWizard() {
            currentWizardStep = 1;
            estimateData = { type: '', subtype: '', locked: false, segments: 0, time: 'day', floorPrice: 0, distance: 0 };
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById('step-1').classList.add('active');
            document.getElementById('distance-input').value = '';
            document.getElementById('address-input').value = '';
            document.getElementById('dynamic-options').innerHTML = '';
            document.getElementById('lock-status-toggle').style.display = 'none';
            document.getElementById('lock-segment-selector').style.display = 'none'; // é‡ç½®æ™‚éš±è—æ®µæ•¸
            document.getElementById('final-price-display').innerText = 'NT$ --';
            document.getElementById('price-breakdown').innerText = 'è«‹å¡«å¯«å®Œæ•´è³‡è¨Šä»¥è¨ˆç®—';
        }

        function selectType(type) {
            estimateData.type = type;
            estimateData.subtype = ''; estimateData.locked = false; 
            generateStep2Options(type);
            nextStep(2);
        }

        function generateStep2Options(type) {
            const container = document.getElementById('dynamic-options');
            const lockToggle = document.getElementById('lock-status-toggle');
            container.innerHTML = '';
            lockToggle.style.display = 'none';
            document.getElementById('lock-segment-selector').style.display = 'none'; // é‡ç½®æ™‚éš±è—æ®µæ•¸

            let options = [];
            if (type === 'electronic') { options = ['åŠ å®‰ (FAULTLESS)', 'ç¶­å¤«æ‹‰å…‹ (WAFERLOCK)', 'ä¸‰æ˜Ÿ (SAMSUNG)', 'æ±éš† (EZSET)', 'è€¶é­¯ (YALE)']; } 
            else if (type === 'traditional') { options = ['éµé–€é– (ä¸‰æ®µ/å››æ®µ)', 'è‘‰ç‰‡äº”æ®µé–', 'è¼”åŠ©é–', 'å–‡å­é–', 'æ°´å¹³é–', 'ä¸€æ¨“å…¬å¯“å¤§é–€é›»é–']; } 
            else if (type === 'scooter') { options = ['å±±è‘‰ YAMAHA', 'ä¸‰é™½ SYM', 'å…‰é™½ KYMCO', 'ç¿èƒ½ gogoro']; } 
            else if (type === 'access-control') { options = ['ç£æ‰£/å¡ç‰‡è¤‡è£½', 'ä¸»æ©Ÿå®‰è£/ç¶­ä¿®']; }
            else if (type === 'other') { options = ['æ±½è»Šé–‹é–', 'ä¿éšªç®±', 'ä¿¡ç®±/æŠ½å±œ', 'å…¶ä»–ç–‘å•']; }

            options.forEach(opt => {
                let div = document.createElement('div');
                div.className = 'option-btn';
                div.innerText = opt;
                div.onclick = function() {
                    Array.from(container.children).forEach(c => c.classList.remove('selected'));
                    div.classList.add('selected');
                    estimateData.subtype = opt;
                    
                    // æª¢æŸ¥æ˜¯å¦é¡¯ç¤ºé–é–€ç‹€æ…‹ (éµé–€é– æˆ– è‘‰ç‰‡äº”æ®µé–)
                    if (type === 'traditional' && (opt.includes('éµé–€é–') || opt.includes('è‘‰ç‰‡äº”æ®µ'))) {
                        lockToggle.style.display = 'block';
                        setLockStatus('closed'); // é è¨­ç‚ºåªæ˜¯é—œä¸Š
                    } else {
                        lockToggle.style.display = 'none';
                        setTimeout(() => nextStep(3), 300);
                    }
                };
                container.appendChild(div);
            });
        }

        function setLockStatus(status) {
            estimateData.locked = (status === 'locked');
            document.getElementById('status-closed').className = status === 'closed' ? 'toggle-btn active' : 'toggle-btn';
            document.getElementById('status-locked').className = status === 'locked' ? 'toggle-btn active' : 'toggle-btn';
            
            // å¦‚æœé¸åé–ï¼Œé¡¯ç¤ºæ®µæ•¸é¸æ“‡
            const segSelector = document.getElementById('lock-segment-selector');
            if (status === 'locked') {
                segSelector.style.display = 'block';
                setSegmentCount(1); // é è¨­ 1 æ®µ
            } else {
                segSelector.style.display = 'none';
                estimateData.segments = 0;
                // å¦‚æœåªæ˜¯é—œä¸Šï¼Œä¸éœ€è¦é¸æ®µæ•¸ï¼Œç›´æ¥å»¶é²è·³è½‰
                setTimeout(() => nextStep(3), 500); 
            }
        }
        
        function setSegmentCount(count) {
            estimateData.segments = count;
            // æ›´æ–° UI
            const btns = document.querySelectorAll('#lock-segment-selector .toggle-btn');
            btns.forEach((btn, index) => {
                if ((index + 1) === count) btn.classList.add('active');
                else btn.classList.remove('active');
            });
            // é¸å®Œæ®µæ•¸å¾Œè‡ªå‹•ä¸‹ä¸€æ­¥
            setTimeout(() => nextStep(3), 300);
        }

        function nextStep(step) {
            document.querySelectorAll('.step-container').forEach(el => el.classList.remove('active'));
            document.getElementById('step-' + step).classList.add('active');
            currentWizardStep = step;
            if (step === 3) calculatePrice();
        }
        function prevStep(current) { nextStep(current - 1); }
        
        function finishWizard() {
            nextStep(4);
            const price = document.getElementById('final-price-display').innerText;
            const address = document.getElementById('address-input').value || 'æœªæä¾›';
            const distance = document.getElementById('distance-input').value || 'æœªçŸ¥';
            
            document.getElementById('result-price-display').innerText = price;
            
            let typeText = estimateData.type === 'electronic' ? 'é›»å­é–' : (estimateData.type === 'traditional' ? 'å‚³çµ±é–' : (estimateData.type === 'scooter' ? 'æ©Ÿè»Š' : 'å…¶ä»–'));
            let subtypeText = estimateData.subtype || 'æœªé¸æ“‡';
            let lockedText = estimateData.type === 'traditional' ? (estimateData.locked ? `å·²åé– (${estimateData.segments}æ®µ)` : 'åƒ…é—œä¸Š') : 'N/A';
            let floorText = document.getElementById('floor-select').options[document.getElementById('floor-select').selectedIndex].text;
            let timeText = document.getElementById('time-select').options[document.getElementById('time-select').selectedIndex].text;
            
            const msg = `ä½ å¥½ï¼Œæˆ‘åœ¨å®˜ç¶²åšäº†é–‹é–ä¼°åƒ¹ï¼š\né¡å‹ï¼š${typeText} - ${subtypeText}\nç‹€æ…‹ï¼š${lockedText}\nåœ°å€ï¼š${address}\nè·é›¢ï¼š${distance}å…¬é‡Œ\næ¨“å±¤ï¼š${floorText}\næ™‚æ®µï¼š${timeText}\nç³»çµ±é ä¼°è²»ç”¨ï¼š${price}\nè«‹å¸«å‚…ç¢ºèªï¼Œè¬è¬ï¼`;
            
            const btn = document.getElementById('btn-wizard-line');
            if(btn) { btn.onclick = function() { copyAndGoLine(msg); }; }
        }

        function openGoogleMaps() {
            const address = document.getElementById('address-input').value;
            let url = 'https://www.google.com/maps/dir/?api=1&origin=å°æé–‹é–';
            if (address) { url += '&destination=' + encodeURIComponent(address); } 
            else { url += '&destination=å°æé–‹é–'; }
            window.open(url, '_blank');
        }
        function getCurrentLocation() {
            const addrInput = document.getElementById('address-input');
            if (!navigator.geolocation) { alert("æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å®šä½åŠŸèƒ½"); return; }
            const originalPlaceholder = addrInput.placeholder;
            addrInput.placeholder = "æ­£åœ¨å–å¾—ä½ç½®...";
            addrInput.value = "";
            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude.toFixed(6);
                    const lng = position.coords.longitude.toFixed(6);
                    addrInput.value = `${lat}, ${lng}`;
                    addrInput.placeholder = originalPlaceholder;
                },
                (error) => { console.error(error); alert("ç„¡æ³•å–å¾—ä½ç½®ï¼Œè«‹æ‰‹å‹•è¼¸å…¥åœ°å€"); addrInput.placeholder = originalPlaceholder; }
            );
        }

        function calculatePrice() {
            const timeVal = document.getElementById('time-select').value;
            const floorCost = parseInt(document.getElementById('floor-select').value) || 0;
            const dist = parseFloat(document.getElementById('distance-input').value) || 0;
            const isNight = (timeVal === 'evening' || timeVal === 'late' || timeVal === 'midnight');
            
            let basePrice = 300; 
            if (timeVal === 'evening') basePrice = 500;
            else if (timeVal === 'late') basePrice = 700;
            else if (timeVal === 'midnight') basePrice = 1000;

            let typeCost = 0;
            let conditionCost = 0;

            if (estimateData.type === 'electronic') {
                if (estimateData.subtype.includes('ç¶­å¤«æ‹‰å…‹')) { basePrice = 0; typeCost = isNight ? 1500 : 1000; } 
                else if (estimateData.subtype.includes('ä¸‰æ˜Ÿ')) { basePrice = 0; typeCost = isNight ? 6000 : 4000; } 
                else if (estimateData.subtype.includes('è€¶é­¯')) { basePrice = 0; typeCost = 2500; } 
                else { typeCost = 300; }
            } else if (estimateData.type === 'traditional') {
                if (estimateData.subtype.includes('è‘‰ç‰‡')) { typeCost = 200; }
                if (estimateData.locked) {
                    // åé–åŠ æˆï¼šæ—¥é–“ä¸€æ®µ300ï¼Œå¤œé–“ä¸€æ®µ500
                    const perSegmentCost = (timeVal === 'day') ? 300 : 500;
                    // è‡³å°‘ç®—ä¸€æ®µï¼Œå¦‚æœæœ‰é¸æ®µæ•¸å‰‡ä¹˜ä¸Šå»
                    const segs = estimateData.segments > 0 ? estimateData.segments : 1;
                    conditionCost = perSegmentCost * segs;
                }
            }
            
            let distCost = 0;
            if (dist > 3) { distCost = Math.ceil(dist - 3) * 100; }

            let total = basePrice + typeCost + conditionCost + floorCost + distCost;

            document.getElementById('final-price-display').innerText = "NT$ " + total;
            
            let details = [];
            if (typeCost > 0) details.push("ç‰¹æ®Šé–ç¨®/é›»å­é–åŠ æˆ");
            if (conditionCost > 0) details.push(`åé–è§£é–è²»(${estimateData.segments}æ®µ)`);
            if (floorCost > 0) details.push("æ¨“å±¤è²»");
            if (distCost > 0) details.push("é è·é›¢è»Šé¦¬è²»");
            if (estimateData.type === 'other') details.push("ç¾å ´å ±åƒ¹");
            
            document.getElementById('price-breakdown').innerText = details.length > 0 ? "åŒ…å«: " + details.join(' + ') : "æ¨™æº–é–‹é–æœå‹™è²»";
        }
    </script>
</body>
</html>
